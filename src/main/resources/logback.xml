<configuration>



    <!-- Appender для отправки логов в Kafka -->
    <appender name="KAFKA" class="logger.KafkaAppender">
        <encoder class="ch.qos.logback.core.encoder.LayoutWrappingEncoder">
            <layout class="ch.qos.logback.classic.PatternLayout">
                <Pattern>
                    {
                    "timestamp_logger":"%date{dd MMM yyyy;HH:mm:ss.SSS}",
                    "app": "example-app",
                    "level":"%level",
                    "message":"%msg",
                    "thread": "%thread",
                    "event":"%X{Event}",
                    "exception":"%ex{full}"
                    }
                </Pattern>
            </layout>
        </encoder>
        <topic>log-topic</topic>
        <brokers>localhost:9092</brokers>
    </appender>

    <!-- Logger настройка -->
    <root level="INFO">
        <appender-ref ref="KAFKA"/>
    </root>

</configuration>
